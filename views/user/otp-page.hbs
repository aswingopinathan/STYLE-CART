<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<div class="row m-0">
    <div class="col-md-6 m-auto">
        <div class="container mt-5 pl-5 pt-5">
            <div class="container mt-5 pl-5 pt-3">
                <h2 class="text-center">OTP Login</h2>

                <form action="/otp-verify" method="POST">
                    {{#if otpsignErr}}
                    <p class="error text-center" style="color: red;">{{otpsignErr}}</p>
                    {{/if}}

                    <div class="form-group text-center">
                        <label>Otp sent to mobile number {{Mobile}}</label>
                    </div>

                    <div class="form-group">
                        <label>OTP</label>
                        <input type="text" class="form-control" name="otp" placeholder="Enter otp"><br>
                        {{!-- <p><a href="/resend-otp"> Resend OTP </a>in <span id="countdowntimer">30 </span> Seconds</p> --}}
                        <span id="resend" class="text-dark"></span>
                        <div id="timer-full">Resend OTP in <span id="timer"></span></div>
                    </div>

                    <!--<a href="/signup" class="sign sign-info mt-5 "
                        style="width: fit-content; text-decoration: none;">Create new account</a>
                     -->
                    <div class="mx-auto mt-3" style=" width: fit-content;">
                        <button type="submit" class="btn btn-primary">Login</button>
                    </div>

            </div>
            </form>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
    <script>
         let timerOn = true;

  function timer(remaining) {
    var m = Math.floor(remaining / 60);
    var s = remaining % 60;

    m = m < 10 ? '0' + m : m;
    s = s < 10 ? '0' + s : s;
    document.getElementById('timer').innerHTML = m + ':' + s;
    remaining -= 1;

    if (remaining >= 0 && timerOn) {
      setTimeout(function () {
        timer(remaining);
      }, 1000);
      return;
    }

    if (!timerOn) {
      // Do validate stuff here
      return;
    }

    // Do timeout stuff here
    document.getElementById('resend').innerHTML = '<a href="/resend-otp">Resent Otp</a>'
    document.getElementById('timer-full').innerHTML = ''
  }

  timer(60);
    </script>